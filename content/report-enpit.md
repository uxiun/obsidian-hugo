---
date: 2025-02-11T16:35:05+09:00
draft: false
title: enPiT で初めての共同開発
tags:
  - enPiT
  - 報告
---
enPiT は Project Based Learning (PBL) に基づいたチーム開発を体験する科目で、夏休みに Agile 開発手法を学び、秋学期に本格的な開発を行って最終成果を発表します。本記事はその最終報告となります。

# 成果: スーパーこよみ
[スーパー こよみ](https://superkoyomi.org/) を開発しました。
Googleカレンダーと連携することで、面倒なやりとりや操作なしで日程調整ができるツールです。

この図に示すように、**Googleカレンダーから日程候補を算出**できるのが特徴です。
![](https://gyazo.com/8cee7f4a7fc011111f2f7dea49bfda3f.png)  
[自分と正体相手の予定を合算して](https://gyazo.com/8cee7f4a7fc011111f2f7dea49bfda3f)
![](https://gyazo.com/5ef1dd14478718c0a908ce1ffb5c289f.png)  
[共通する空き時間が日程候補に](https://gyazo.com/5ef1dd14478718c0a908ce1ffb5c289f)


使い方も**簡単**で、操作はこれだけです。
![](https://gyazo.com/205e522ab376e9e10299cd874f56c487.png)  
[サインイン](https://gyazo.com/205e522ab376e9e10299cd874f56c487)
![](https://gyazo.com/6830abe5e63567998a748b9ba0130077.png)  
[予定の長さと招待相手を選択](https://gyazo.com/6830abe5e63567998a748b9ba0130077)
![](https://gyazo.com/c1e4316befef51d502a5f961556dac9b.png)  
[日程候補から選択](https://gyazo.com/c1e4316befef51d502a5f961556dac9b)

このように、
1. 日程調整のためのやりとりが面倒
2. 候補日の一覧を作ったり、投票したりするのが面倒
3. Googleカレンダーをそれなりに使っている

という方におすすめのアプリとなっています。
#### 技術構成
- Next.js, Typescript
- Vercel deploy

# チーム開発

## 成員


| 成員                                              | 役割                                 |
| ----------------------------------------------- | ---------------------------------- |
| [Amulnesia](https://github.com/Amulnesia)       | デザインに強く、ロゴ作成も最終発表スライドの仕上げもしてくれた。   |
| [Komatsunabok](https://github.com/Komatsunabok) | 議事録、普段の開発の記録やレビューをまとめてくれた。         |
| [nagu724](https://github.com/nagu724)           | 話し合いの舵を取り、最終発表もやってくれた。             |
| [HosokawaR](https://github.com/HosokawaR)       | 開発 (API)。リーダーシップと圧倒的技術力がとても頼りになった。 |
| [inucat](https://github.com/inucat)             | 開発。gitが上手でソフトウェアに関する思想の強さに痺れる。     |
| [uxiun](https://github.com/uxiun)               | （私）開発。 Next.js の経験があったので主にUIを担当    |

主要な開発人員と組んでペアプロを行うなどして、開発自体は全員が経験しました。
## 開発の枠組み
Agile の手法の一つ Scrum を用いて開発しました。
Scrum ではチームを組んで Sprint と呼ばれる開発周期を繰り返して漸次的に製品を改善していきます。

| 用語                         | 説明                                                                      |
| -------------------------- | ----------------------------------------------------------------------- |
| Product Backlog (PBL)      | 製品の価値 (機能ではない) を優先順に並べたもの                                               |
| Product Backlog Item (PBI) | PBL の各項目                                                                |
| Sprint                     | Scrum における開発周期                                                          |
| Sprint Backlog             | Sprint で取り組むべきことの一覧、PBI を実現する計画。カンバン形式で Todo, Doing, Done と状態ごとに整理していた。 |
| Sprint Backlog Item        | Sprint Backlog の各項目。単純なタスクに当たる。                                         |

一回の授業に 1 Sprint (計画、開発、レビュー) が対応していました。未完了の PBI について、それぞれを実現するための Sprint Backlog を立て、開発とレビューの準備を行い、レビューで新たな価値を体験してもらい感想・意見を募る、という流れです。

100分弱という開発時間で新たな価値を提供するのは難しく、度々以下のような選択を迫られました。
- 前もって残業（課外で開発）する
- 小さな変更でレビューを乗り切る
- その日のレビューを捨てる

授業の最後に設けられていた振り返りの時間を削減して、授業2回分で毎週ごとに 1 Sprint を回すくらいが丁度いいのではないかと思いました。開発にゆとりが生まれる上、レビューの機会は減るものの、その分力の入った有意義なものになる気がします。

## 開発の流れ
#### 夏休み
手間を減らした「ゼロコスト」での日程調整を目指すことになり、アプリの具体像が見えてきた。
HosokawaR がdockerで開発基盤を整え、デプロイまでしてくれた。
#### 秋学期
##### Sprint1
「ゼロコスト」の理念のもと、小さな価値検証を繰り返し、チーム内で目標のすり合わせをよく行っていた。しかし、レビューを重ねるにつれて**肝心の「日程調整」がまだ実際にはできない**のは問題だという認識が高まり、そちらに取り掛かることになった。

##### Sprint 2, 3
基本的な日程調整機能が完成した後は、UI の改善が主になった。

調整済みの予定がカレンダーに直接入る方式と、理念にはそぐわない日程候補から選択する方式とで意見がわかれたが、**レビューの反応**を受けて後者に決定した。このときの話し合いで、Googleカレンダーにきっちり予定を入れている社会人のような層だけでなく、カレンダーはそこそこ使っているくらいの**学生**にも使いやすいものにする方向性が定まった。プロダクトとしての尖り具合は控えめになったが、レビューの都合も考えると合理的な選択だった。この後も、学生向けに時間割登録をする機能を追加した。

##### Sprint 4 
最後の詰めとして database 関係の開発を行った。最終発表直前に大きく進み、
- 招待相手としてフレンド登録したアカウントだけを表示する機能（試作段階）
- 時間割の永続化
- 頻繁にサインインし直さなければならない問題の解決
ができた。

# ふりかえり
### チーム開発を通じて
最終チームAMF（黄: よかった点、桃: 反省点）
![最終チームAMF](https://gyazo.com/e4f184e5e2b8e38bc8ca4ae053ccda8b.png)  

#### 1. 技術力
中核となる日程調整機能と database 関連の実装を後回しにしてしまったのは、それが粒度の大きい難しいタスクで、授業時間内に終わる見込みが低かったからでした。

他でも、実装に思ったより手間取ってレビューに間に合わないということが何度かあり、自分の技術不足を実感しました。いくらでも時間をかけられる個人開発ではなく、限られた時間内にコードを組む訓練が必要だと思いました。

また、メンバー間の技術力の差を埋めることができず、大きな機能は各人が持ち帰って実装したものも多かったですが、Pull Request を丁寧に書いたりコメントを付けたりすることで、作業前の共有が手早く済むよう心がけていました。

#### 2. 話し合いと役割分担
認識のズレが生じてまとまった話し合いが必要になったり、毎回の打ち合わせをなあなあにして作業に入ってしまうことがありました。

それもあって、 Miro ではないテキスト主体の議事録やメモを置く場所が欲しくなり、私から **Cosense** を提案しました ([スーパーこよみ](https://scrapbox.io/superkoyomi/))。テンプレートを作って毎回の Sprint の記録をつけることで、その日することが明確になり、開発の経緯がわかりやすくなりました。

一方で、話し合いの発散を防ぐには司会を立てて進行してもらうのも手ですが、今回はそこまで役割分担を意識したチーム運営ができていませんでした。 それでも、**Leadership Dancefloor** ([参考form](https://forms.office.com/pages/responsepage.aspx?id=QQ_ek3dfpk2CnEsDpdQmDgypaUlf88BJllOFw2FGcv9UOUVMSExHOTJEQkQ0UFhMQzE4SlNYUkhPSS4u&route=shorturl)) に参加して、Agile とはそもそも何か、チーム開発におけるリーダーとは何かといったことが少しは掴めたので、今後書籍にもあたって理解を深めたいと思っています。

#### 3. 顧客目線の開発と価値検証
PBLからレビューまで、徹底的に顧客にとっての価値を追求したチーム開発は、自分の欲しいものを一人で好きなように開発するのとはまるで違います。方向性に迷ったときに顧客の目線に立ち返る重要性を学びました。

### 技術的な知見
個人開発と勝手の違う共同開発で新しい技術的な知見が多くありました。
#### 1. コードにコメントを書く
個人開発と同じ感覚でコードを書いてきて、共有に手間取ることがあり、コメントを書くこと、差分を小さくすることなどを意識するようになりました。

#### 2. 生成AI
これまであまり使ってこなかった生成AIを紹介され、時短のために活用しました。 [v0.dev](https://v0.dev) はとても強力で、途中からはその生成物を叩き台にそれを修正する形でUI開発を行いました。

# おわりに
技術から開発手法まで多くの学びがありました。チーム「スーパーこよみ」の皆さんと一緒に開発できて楽しかったです。

今後もし共同開発する機会があればぜひ挑戦したいです。